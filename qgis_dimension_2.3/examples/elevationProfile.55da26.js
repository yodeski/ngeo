!function(t){function e(e){for(var o,a,s=e[0],p=e[1],l=e[2],c=0,h=[];c<s.length;c++)a=s[c],r[a]&&h.push(r[a][0]),r[a]=0;for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(t[o]=p[o]);for(u&&u(e);h.length;)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var p=n[s];0!==r[p]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={27:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],p=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=p;i.push([388,0]),n()}({387:function(t,e,n){"use strict";n.r(e);n(498);var o=n(74),r=n(24),i=n(43),a=n(53),s=n(58),p=n(44),l=n(113),u=n(64),c=n(104),h=n(52),d=n(17),f=n(233),g={};g.module=angular.module("app",["gettext",d.a.name,f.a.name]),g.MainController=function(t,e){var n=this;this.scope_=e;var d=new h.a;this.map=new i.a({layers:[new l.a({source:new c.a({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'&copy; <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new u.a({source:d})],view:new a.a({projection:o.a,extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var f=this.map,g=new u.a({source:new h.a});this.snappedPoint_=new r.a,g.getSource().addFeature(this.snappedPoint_),g.setMap(f),this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}],this.profileData=void 0,t.get("data/profile.json").then(function(t){var e=t.data.profile;n.profileData=e;var o=void 0,i=e.length,a=new s.a([],"XYM");for(o=0;o<i;o++){var p=e[o];a.appendCoordinate([p.x,p.y,p.dist])}d.addFeature(new r.a(a));var l=n.map.getSize();f.getView().fit(d.getExtent(),{size:l})}),f.on("pointermove",function(t){if(!t.dragging){var e=f.getEventCoordinate(t.originalEvent);n.snapToGeometry(e,d.getFeatures()[0].getGeometry())}});var v=function(t,e,n){return function(t){return void 0!==n&&(t=t[n]),t[e]}},m=v(0,"dist"),w={line1:{style:{},zExtractor:v(0,"mnt","values")}},y={sort:v(0,"sort"),id:v(0,"id"),dist:v(0,"dist"),title:v(0,"title"),z:function(t,e){return void 0!==e&&(t.z=e),t.z}},x=function(t){this.point=t,this.snappedPoint_.setGeometry(new p.a([t.x,t.y]))}.bind(this),b=function(){this.point=null,this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:m,linesConfiguration:w,poiExtractor:y,hoverCallback:x,outCallback:b},this.point=null,this.profileHighlight=void 0},g.MainController.$inject=["$http","$scope"],g.MainController.prototype.snapToGeometry=function(t,e){var n=e.getClosestPoint(t),o=n[0]-t[0],r=n[1]-t[1],i=Math.sqrt(o*o+r*r)/this.map.getView().getResolution();this.profileHighlight=i<8?n[2]:-1,this.scope_.$apply()},g.module.controller("MainController",g.MainController),e.default=g},388:function(t,e,n){n(40),n(39),t.exports=n(387)},498:function(t,e){}});
//# sourceMappingURL=elevationProfile.55da26.js.map