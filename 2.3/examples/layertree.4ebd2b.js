!function(e){function t(t){for(var n,l,i=t[0],p=t[1],u=t[2],c=0,y=[];c<i.length;c++)l=i[c],o[l]&&y.push(o[l][0]),o[l]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(e[n]=p[n]);for(s&&s(t);y.length;)y.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var p=r[i];0!==o[p]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={21:0},a=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},l.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],p=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=p;a.push([377,0]),r()}({375:function(e,t){e.exports='<span ng-if=::!layertreeCtrl.isRoot>{{::layertreeCtrl.node.name}}</span> <input type=checkbox ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-model=layertreeCtrl.getSetActive ng-model-options="{getterSetter: true}"/> <button ng-if="::layertreeCtrl.node && !layertreeCtrl.node.children" ng-click="ctrl.onButtonClick(layertreeCtrl.node, layertreeCtrl.layer)">i</button> <ul ng-if=::layertreeCtrl.node.children> <li ng-repeat="node in ::layertreeCtrl.node.children" ngeo-layertree=::node ngeo-layertree-templateurl=partials/layertree.html ngeo-layertree-notroot ngeo-layertree-map=layertreeCtrl.map ngeo-layertree-nodelayerexpr=layertreeCtrl.nodelayerExpr> </li> </ul> '},376:function(e,t,r){"use strict";r.r(t);r(492);var n,o=r(43),a=r(53),l=r(36),i=r(57),p=r(313),u=r(232),s=r(17),c=r(169),y={};y.module=angular.module("app",["gettext",u.a.name,s.a.name,c.a.module.name]),y.layertreeComponent={bindings:{map:"=appLayertreeMap"},controller:"AppLayertreeController",template:'<div ngeo-layertree="::$ctrl.tree" ngeo-layertree-templateurl="examples/layertree" ngeo-layertree-map="$ctrl.map" ngeo-layertree-nodelayer="$ctrl.getLayer(node)"></div>'},y.module.run(["$templateCache",function(e){e.put("examples/layertree",r(375))}]),y.module.component("appLayertree",y.layertreeComponent),y.LayertreeController=function(e,t,r,n){var o=this;this.tree=void 0,e.get("data/tree.json").then(function(e){o.tree=e.data}),this.http_=e,this.sce_=t,this.getLayer_=r,this.infoPopup_=n(),this.promises_={}},y.LayertreeController.$inject=["$http","$sce","appGetLayer","ngeoCreatePopup"],y.LayertreeController.prototype.getLayer=function(e){return this.getLayer_(e)},y.LayertreeController.prototype.onButtonClick=function(e,t){var r=this,n=e.layerType;n in this.promises_||(this.promises_[n]=this.http_.get("data/metadata.html").then(function(e){return r.sce_.trustAsHtml(e.data)}));var o=this.infoPopup_;this.promises_[n].then(function(t){o.setTitle(e.name),o.setContent(t),o.setOpen(!0)})},y.module.controller("AppLayertreeController",y.LayertreeController),y.getLayer=(n={},function(e){if(!("layerType"in e))return null;var t=e.layerType;if(t in n)return n[t];var r=void 0;r="stamenWatercolor"==t?new p.a({layer:"watercolor"}):"stamenTerrain-labels"==t?new p.a({layer:"terrain-labels"}):"osmHumanitarian"==t?new i.b({url:"https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png"}):"osmCycle"==t?new i.b({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png"}):"osmTransport"==t?new i.b({url:"https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png"}):new i.b;var o=new l.a({source:r});return o.set("type",t),n[t]=o,o}),y.module.value("appGetLayer",y.getLayer),y.MainController=function(){this.map=new o.a({layers:[new l.a({source:new i.b})],view:new a.a({center:[-10983710.59086991,4686507.078220731],zoom:4})})},y.module.controller("MainController",y.MainController),t.default=y},377:function(e,t,r){r(40),r(39),e.exports=r(376)},492:function(e,t){}});
//# sourceMappingURL=layertree.4ebd2b.js.map