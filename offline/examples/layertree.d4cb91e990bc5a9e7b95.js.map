{"version":3,"sources":["webpack:///./src/message/Popup.js","webpack:///./src/message/popupComponent.js","webpack:///./node_modules/openlayers/src/ol/source/OSM.js","webpack:///./examples/layertree.js","webpack:///./node_modules/openlayers/src/ol/source/Stamen.js","webpack:///./node_modules/openlayers/src/ol/source/XYZ.js"],"names":["__webpack_require__","exports","$compile","$rootScope","$sce","$timeout","_this","this","scope","$new","$watch","open","autoDestroy_","timeout_","destroy","sce_","element_","angular","element","document","body","append","prototype","getOpen","setOpen","$destroy","remove","setTitle","title","trustedTitle","trustAsHtml","setContent","content","opt_trusted","setUrl","url","setWidth","width","setHeight","height","setSize","setAutoDestroy","autoDestroy","addClass","cls","options","googAsserts","fail","undefined","Factory","module","ngeoMessagePopupComponent","name","factory","ngeoBase","requires","push","_index","value","attrs","templateUrl","baseModuleTemplateUrl","directive_","ngeoPopupTemplateUrl","restrict","link","close","evt","stopPropagation","preventDefault","newVal","oldVal","css","directive","__WEBPACK_IMPORTED_MODULE_1__source_XYZ_js__","OSM","opt_options","attributions","ATTRIBUTION","crossOrigin","call","cacheSize","opaque","maxZoom","reprojectionErrorThreshold","tileLoadFunction","wrapX","Object","__WEBPACK_IMPORTED_MODULE_0__index_js__","__webpack_exports__","layerCache","ngeoLayertreeModule","ngeoMapModule","ngeoMessagePopup","layertreeComponent","bindings","map","controller","controllerAs","template","component","LayertreeController","$http","appGetLayer","ngeoCreatePopup","tree","get","then","resp","data","http_","getLayer_","infoPopup_","promises_","getLayer","node","onButtonClick","layer","_this2","layerType","infoPopup","html","type","source","olSourceStamen","olSourceOSM","olLayerTile","set","MainController","olMap","layers","view","olView","center","zoom","__WEBPACK_IMPORTED_MODULE_2__source_XYZ_js__","Stamen","i","indexOf","provider","slice","providerConfig","ProviderConfig","layerConfig","LayerConfig","extension","ATTRIBUTIONS","minZoom","__WEBPACK_IMPORTED_MODULE_1__source_OSM_js__","terrain","terrain-background","terrain-labels","terrain-lines","toner-background","toner","toner-hybrid","toner-labels","toner-lines","toner-lite","watercolor","__WEBPACK_IMPORTED_MODULE_2__tilegrid_js__","XYZ","projection","tileGrid","createXYZ","extent","extentFromProjection","tileSize","__WEBPACK_IMPORTED_MODULE_1__source_TileImage_js__","tilePixelRatio","tileUrlFunction","urls","transition"],"mappings":"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","file":"layertree.d4cb91e990bc5a9e7b95.js","sourcesContent":["/**\n * @module ngeo.message.Popup\n*/\nimport ngeoBase from 'ngeo/index.js';\nimport googAsserts from 'goog/asserts.js';\n\n/**\n * This goog.require is needed because of 'ngeo-popup' used in\n * the template.\n * @suppress {extraRequire}\n */\nimport ngeoMessagePopupComponent from 'ngeo/message/popupComponent.js';\n\n/**\n * Provides a factory to create a popup in the page.\n * The factory returns a ngeo.message.Popup object.\n *\n * Example:\n *\n *     let popup = ngeoCreatePopup();\n *     popup.setTitle(\"A title\");\n *     popup.setContent(\"Some content\");\n *     popup.setOpen(true);\n *\n * @constructor\n * @struct\n * @param {angular.$compile} $compile The compile provider.\n * @param {angular.Scope} $rootScope The rootScope provider.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @ngdoc service\n * @ngname ngeoCreatePopup\n */\nconst exports = function($compile, $rootScope, $sce, $timeout) {\n\n  /**\n   * The scope the compiled element is link to.\n   * @type {angular.Scope}\n   * @export\n   */\n  this.scope = $rootScope.$new(true);\n\n  // manage the auto destruction of the popup\n  this.scope.$watch(\n    () => this.scope['open'],\n    (open) => {\n      if (!open && this.autoDestroy_) {\n        this.timeout_(() => {\n          this.destroy();\n        });\n      }\n    }\n  );\n\n  /**\n   * @private\n   * @type {angular.$sce}\n   */\n  this.sce_ = $sce;\n\n  /**\n   * @type {angular.$timeout}\n   * @private\n   */\n  this.timeout_ = $timeout;\n\n  /**\n   * The element.\n   * @type {angular.JQLite}\n   * @private\n   */\n  this.element_ = angular.element('<div ngeo-popup></div>');\n\n  /**\n   * @type {boolean}\n   * @private\n   */\n  this.autoDestroy_ = false;\n\n\n  // Compile the element, link it to the scope and add it to the document.\n  $compile(this.element_)(this.scope);\n  angular.element(document.body).append(this.element_);\n};\n\n\n/**\n * Get the current popup state.\n * @return {boolean} `true` if the popup is currently, otherwise `false`.\n * @export\n */\nexports.prototype.getOpen = function() {\n  return this.scope['open'];\n};\n\n\n/**\n * Show/hide the popup.\n * @param {boolean} open `true` to show the popup, `false` to hide it.\n * @export\n */\nexports.prototype.setOpen = function(open) {\n  this.scope['open'] = open;\n};\n\n\n/**\n * Destroy the popup.\n * @export\n */\nexports.prototype.destroy = function() {\n  this.scope.$destroy();\n  this.element_.remove();\n};\n\n\n/**\n * Set the popup's title.\n * @param {string} title The title.\n * @export\n */\nexports.prototype.setTitle = function(title) {\n  const trustedTitle = this.sce_.trustAsHtml(title);\n  this.scope['title'] = trustedTitle;\n};\n\n\n/**\n * Set the popup's content.\n * Note: the type of the `content` param is `*` instead of `string`, this\n * is because the content may be trusted using `$sce.trustAsHtml`.\n * @param {*} content The content.\n * @param {boolean=} opt_trusted Whether the content can be trusted.\n *     Default is false.\n * @export\n */\nexports.prototype.setContent = function(content, opt_trusted) {\n  this.scope['content'] = opt_trusted ? this.sce_.trustAsHtml(/** @type {string} */ (content)) : content;\n};\n\n\n/**\n * Set the popup's content with an iframe using the given url.\n * @param {string} url The url of the page.\n * @export\n */\nexports.prototype.setUrl = function(url) {\n  const content = this.sce_.trustAsHtml(\n    `<iframe src=\"${url}\" width=\"100%\" height=\"100%\"></iframe>`\n  );\n  this.setContent(content);\n};\n\n\n/**\n * Set the popup's width.\n * @param {string} width Width the popup should have.\n * @export\n */\nexports.prototype.setWidth = function(width) {\n  this.element_.width(width);\n};\n\n\n/**\n * Set the popup's height.\n * @param {string} height Height the popup should have.\n * @export\n */\nexports.prototype.setHeight = function(height) {\n  this.element_.height(height);\n};\n\n\n/**\n * Set the popup's width and height.\n * @param {string} width Width the popup should have.\n * @param {string} height Height the popup should have.\n * @export\n */\nexports.prototype.setSize = function(width, height) {\n  this.setWidth(width);\n  this.setHeight(height);\n};\n\n\n/**\n * Set the popup's autoDestroy property.\n * @param {boolean} autoDestroy Whether to automatically destroy the popup when\n *     being closed or not.\n * @export\n */\nexports.prototype.setAutoDestroy = function(autoDestroy) {\n  this.autoDestroy_ = autoDestroy;\n};\n\n\n/**\n * Add an extra CSS class name to the popup.\n * @param {string} cls Class name to add to the popup element.\n * @export\n */\nexports.prototype.addClass = function(cls) {\n  this.element_.addClass(cls);\n};\n\n\n/**\n * Open a popup with the given properties.\n * @param {ngeox.PopupOptions} options Options.\n * @export\n */\nexports.prototype.open = function(options) {\n\n  if (options.url) {\n    this.setUrl(options.url);\n  } else if (options.content) {\n    this.setContent(options.content);\n  } else {\n    googAsserts.fail('ngeo.message.Popup options requirest \"url\" or \"content\".');\n  }\n\n  if (options.autoDestroy !== undefined) {\n    this.setAutoDestroy(options.autoDestroy);\n  }\n\n  if (options.cls !== undefined) {\n    this.addClass(options.cls);\n  }\n\n  if (options.height !== undefined) {\n    this.setHeight(options.height);\n  }\n\n  if (options.title !== undefined) {\n    this.setTitle(options.title);\n  }\n\n  if (options.width !== undefined) {\n    this.setWidth(options.width);\n  }\n\n  this.setOpen(true);\n};\n\n\n/**\n * @param {angular.$compile} $compile Angular compile service.\n * @param {angular.Scope} $rootScope Angular rootScope service.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {angular.$timeout} $timeout Angular timeout service.\n * @return {ngeox.PopupFactory} The function to create a popup.\n * @ngInject\n */\nexports.Factory = function($compile, $rootScope, $sce, $timeout) {\n  return (\n    /**\n     * @return {!ngeo.message.Popup} The popup instance.\n     */\n    function() {\n      return new exports($compile, $rootScope, $sce, $timeout);\n    }\n  );\n};\n\n/**\n * @type {angular.Module}\n */\nexports.module = angular.module('ngeoCreatePopup', [\n  ngeoMessagePopupComponent.name,\n]);\nexports.module.factory('ngeoCreatePopup', exports.Factory);\nngeoBase.module.requires.push(exports.module.name);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/Popup.js","/**\n * @module ngeo.message.popupComponent\n*/\nimport ngeoBase from 'ngeo/index.js';\nconst exports = angular.module('ngeoPopup', []);\nngeoBase.module.requires.push(exports.name);\n\nexports.value('ngeoPopupTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => {\n    const templateUrl = attrs['ngeoPopupTemplateurl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/message/popupcomponent.html`;\n  });\n\n\n/**\n * Provides a directive used to show a popup over the page with\n * a title and content.\n *\n *\n * Things to know about this directive:\n *\n * - This directive is intented to be used along with the popup service.\n *\n * - By default the directive uses \"popup.html\" as its templateUrl. This can be\n *   changed by redefining the \"ngeoPopupTemplateUrl\" value.\n *\n * - The directive doesn't create any scope but relies on its parent scope.\n *   Properties like 'content', 'title' or 'open' come from the parent scope.\n *\n * @private\n * @param {string} ngeoPopupTemplateUrl URL to popup template.\n * @return {angular.Directive} Directive Definition Object.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoPopup\n */\nexports.directive_ = function(ngeoPopupTemplateUrl) {\n  return {\n    restrict: 'A',\n    templateUrl: ngeoPopupTemplateUrl,\n    /**\n     * @param {angular.Scope} scope Scope.\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Atttributes.\n     */\n    link: (scope, element, attrs) => {\n      element.addClass('popover');\n\n      /**\n       * @param {jQuery.Event} evt Event.\n       */\n      scope.close = function(evt) {\n        if (evt) {\n          evt.stopPropagation();\n          evt.preventDefault();\n        }\n        element.addClass('hidden');\n      };\n\n      // Watch the open property\n      scope.$watch('open', (newVal, oldVal) => {\n        element.css('display', newVal ? 'block' : 'none');\n      });\n    }\n  };\n};\n\nexports.directive('ngeoPopup', exports.directive_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/message/popupComponent.js","/**\n * @module ol/source/OSM\n */\nimport {inherits} from '../index.js';\nimport XYZ from '../source/XYZ.js';\n\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n *\n * @constructor\n * @extends {ol.source.XYZ}\n * @param {olx.source.OSMOptions=} opt_options Open Street Map options.\n * @api\n */\nconst OSM = function(opt_options) {\n\n  const options = opt_options || {};\n\n  let attributions;\n  if (options.attributions !== undefined) {\n    attributions = options.attributions;\n  } else {\n    attributions = [OSM.ATTRIBUTION];\n  }\n\n  const crossOrigin = options.crossOrigin !== undefined ?\n    options.crossOrigin : 'anonymous';\n\n  const url = options.url !== undefined ?\n    options.url : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n\n  XYZ.call(this, {\n    attributions: attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: crossOrigin,\n    opaque: options.opaque !== undefined ? options.opaque : true,\n    maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileLoadFunction: options.tileLoadFunction,\n    url: url,\n    wrapX: options.wrapX\n  });\n\n};\n\ninherits(OSM, XYZ);\n\n\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nOSM.ATTRIBUTION = '&copy; ' +\n      '<a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> ' +\n      'contributors.';\nexport default OSM;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/OSM.js\n// module id = 4\n// module chunks = 0 1 2 3 4 5 6 8 9 10 11 12 13 14 17 18 19 20 21 22 23 24 25 26 27","/**\n * @module app.layertree\n*/\n/**\n * This example shows how to create a layer tree tree based\n * on ngeo's ngeoLayertree directive.\n */\n\n/**\n * This example shows how to create a layer tree tree based\n * on ngeo's ngeoLayertree directive.\n */\n\nconst exports = {};\n\nimport './layertree.css';\nimport './common_dependencies.js';\nimport olMap from 'ol/Map.js';\n\nimport olView from 'ol/View.js';\nimport olLayerTile from 'ol/layer/Tile.js';\nimport olSourceOSM from 'ol/source/OSM.js';\nimport olSourceStamen from 'ol/source/Stamen.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoLayertreeModule from 'ngeo/layertree/module.js';\nimport ngeoMapModule from 'ngeo/map/module.js';\nimport ngeoMessagePopup from 'ngeo/message/Popup.js';\n\n\n/** @type {!angular.Module} **/\nexports.module = angular.module('app', [\n  ngeoBase.module.name,\n  ngeoLayertreeModule.name,\n  ngeoMapModule.name,\n  ngeoMessagePopup.module.name,\n]);\n\n\n/**\n * An application-specific component wrapping the ngeo tree layer component.\n * The component includes a controller defining the tree tree.\n *\n * @type {!angular.Component}\n */\nexports.layertreeComponent = {\n  bindings: {\n    'map': '=appLayertreeMap'\n  },\n  controller: 'AppLayertreeController',\n  controllerAs: 'ctrl',\n  // use \"::ctrl.tree\" for the \"tree\" expression as we know the\n  // layer tree won't change\n  template:\n      '<div ngeo-layertree=\"::ctrl.tree\" ' +\n      'ngeo-layertree-templateurl=\"partials/layertree.html\" ' +\n      'ngeo-layertree-map=\"ctrl.map\" ' +\n      'ngeo-layertree-nodelayer=\"ctrl.getLayer(node)\">' +\n      '</div>'\n};\n\n\nexports.module.component('appLayertree', exports.layertreeComponent);\n\n\n/**\n * @constructor\n * @param {angular.$http} $http Angular http service.\n * @param {angular.$sce} $sce Angular sce service.\n * @param {function(Object):ol.layer.Layer} appGetLayer Get layer service.\n * @param {ngeox.PopupFactory} ngeoCreatePopup Popup service.\n * @ngInject\n * @export\n */\nexports.LayertreeController = function($http, $sce, appGetLayer, ngeoCreatePopup) {\n\n  /**\n   * @type {Object|undefined}\n   * @export\n   */\n  this.tree = undefined;\n\n  $http.get('data/tree.json').then((resp) => {\n    this.tree = resp.data;\n  });\n\n  /**\n   * @private\n   * @type {angular.$http}\n   */\n  this.http_ = $http;\n\n  /**\n   * @private\n   * @type {angular.$sce}\n   */\n  this.sce_ = $sce;\n\n  /**\n   * @private\n   * @type {function(Object):ol.layer.Layer}\n   */\n  this.getLayer_ = appGetLayer;\n\n  /**\n   * @private\n   * @type {ngeo.message.Popup}\n   */\n  this.infoPopup_ = ngeoCreatePopup();\n\n  /**\n   * @type {Object.<string, !angular.$q.Promise>}\n   * @private\n   */\n  this.promises_ = {};\n};\n\n\n/**\n * Function called by the ngeo-layertree directives to create a layer\n * from a tree node. The function should return `null` if no layer should\n * be associated to the node (because it's not a leaf).\n * @param {Object} node Node object.\n * @return {ol.layer.Layer} The layer for this node.\n * @export\n */\nexports.LayertreeController.prototype.getLayer = function(node) {\n  return this.getLayer_(node);\n};\n\n\n/**\n * @param {Object} node Tree node.\n * @param {ol.layer.Layer} layer Layer.\n * @export\n */\nexports.LayertreeController.prototype.onButtonClick = function(node, layer) {\n  const layerType = node['layerType'];\n  if (!(layerType in this.promises_)) {\n    this.promises_[layerType] = this.http_.get('data/metadata.html').then(\n      (resp) => {\n        const html = this.sce_.trustAsHtml(resp.data);\n        return html;\n      }\n    );\n  }\n  const infoPopup = this.infoPopup_;\n  this.promises_[layerType].then((html) => {\n    infoPopup.setTitle(node['name']);\n    infoPopup.setContent(html);\n    infoPopup.setOpen(true);\n  });\n};\n\n\nexports.module.controller('AppLayertreeController', exports.LayertreeController);\n\n\n/**\n * A function that returns a layer for a node. A cache is used, so always the\n * same layer instance is returned for a given node. This function is called by\n * the ngeoLayertree directive for creating layers from tree nodes. The\n * function returns `null` when no layer should be created for the node.\n *\n * @param {Object} node Layer tree node.\n * @return {ol.layer.Layer} Layer.\n */\nexports.getLayer = (function() {\n  /**\n   * @type {Object.<string, ol.layer.Layer>}\n   */\n  const layerCache = {};\n  return (\n    /**\n         * @param {Object} node Tree node.\n         * @return {ol.layer.Layer} Layer.\n         */\n    function(node) {\n      if (!('layerType' in node)) {\n        return null;\n      }\n      const type = node['layerType'];\n      if (type in layerCache) {\n        return layerCache[type];\n      }\n      let source;\n      if (type == 'stamenWatercolor') {\n        source = new olSourceStamen({\n          layer: 'watercolor'\n        });\n      } else if (type == 'stamenTerrain-labels') {\n        source = new olSourceStamen({\n          layer: 'terrain-labels'\n        });\n      } else if (type == 'osmHumanitarian') {\n        source = new olSourceOSM({\n          url: 'https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png'\n        });\n      } else if (type == 'osmCycle') {\n        source = new olSourceOSM({\n          url: 'https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png'\n        });\n      } else if (type == 'osmTransport') {\n        source = new olSourceOSM({\n          url: 'https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png'\n        });\n      } else {\n        source = new olSourceOSM();\n      }\n      const layer = new olLayerTile({\n        source\n      });\n      layer.set('type', type);\n      layerCache[type] = layer;\n      return layer;\n    }\n  );\n})();\n\n\nexports.module.value('appGetLayer', exports.getLayer);\n\n\n/**\n * The application's main directive.\n * @constructor\n * @ngInject\n */\nexports.MainController = function() {\n\n  /**\n   * @type {ol.Map}\n   * @export\n   */\n  this.map = new olMap({\n    layers: [\n      new olLayerTile({\n        source: new olSourceOSM()\n      })\n    ],\n    view: new olView({\n      center: [-10983710.59086991, 4686507.078220731],\n      zoom: 4\n    })\n  });\n};\n\n\nexports.module.controller('MainController', exports.MainController);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./examples/layertree.js","/**\n * @module ol/source/Stamen\n */\nimport {inherits} from '../index.js';\nimport OSM from '../source/OSM.js';\nimport XYZ from '../source/XYZ.js';\n\n/**\n * @classdesc\n * Layer source for the Stamen tile server.\n *\n * @constructor\n * @extends {ol.source.XYZ}\n * @param {olx.source.StamenOptions} options Stamen options.\n * @api\n */\nconst Stamen = function(options) {\n  const i = options.layer.indexOf('-');\n  const provider = i == -1 ? options.layer : options.layer.slice(0, i);\n  const providerConfig = Stamen.ProviderConfig[provider];\n\n  const layerConfig = Stamen.LayerConfig[options.layer];\n\n  const url = options.url !== undefined ? options.url :\n    'https://stamen-tiles-{a-d}.a.ssl.fastly.net/' + options.layer +\n      '/{z}/{x}/{y}.' + layerConfig.extension;\n\n  XYZ.call(this, {\n    attributions: Stamen.ATTRIBUTIONS,\n    cacheSize: options.cacheSize,\n    crossOrigin: 'anonymous',\n    maxZoom: options.maxZoom != undefined ? options.maxZoom : providerConfig.maxZoom,\n    minZoom: options.minZoom != undefined ? options.minZoom : providerConfig.minZoom,\n    opaque: layerConfig.opaque,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileLoadFunction: options.tileLoadFunction,\n    url: url,\n    wrapX: options.wrapX\n  });\n};\n\ninherits(Stamen, XYZ);\n\n\n/**\n * @const\n * @type {Array.<string>}\n */\nStamen.ATTRIBUTIONS = [\n  'Map tiles by <a href=\"https://stamen.com/\">Stamen Design</a>, ' +\n        'under <a href=\"https://creativecommons.org/licenses/by/3.0/\">CC BY' +\n        ' 3.0</a>.',\n  OSM.ATTRIBUTION\n];\n\n/**\n * @type {Object.<string, {extension: string, opaque: boolean}>}\n */\nStamen.LayerConfig = {\n  'terrain': {\n    extension: 'jpg',\n    opaque: true\n  },\n  'terrain-background': {\n    extension: 'jpg',\n    opaque: true\n  },\n  'terrain-labels': {\n    extension: 'png',\n    opaque: false\n  },\n  'terrain-lines': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-background': {\n    extension: 'png',\n    opaque: true\n  },\n  'toner': {\n    extension: 'png',\n    opaque: true\n  },\n  'toner-hybrid': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-labels': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-lines': {\n    extension: 'png',\n    opaque: false\n  },\n  'toner-lite': {\n    extension: 'png',\n    opaque: true\n  },\n  'watercolor': {\n    extension: 'jpg',\n    opaque: true\n  }\n};\n\n/**\n * @type {Object.<string, {minZoom: number, maxZoom: number}>}\n */\nStamen.ProviderConfig = {\n  'terrain': {\n    minZoom: 4,\n    maxZoom: 18\n  },\n  'toner': {\n    minZoom: 0,\n    maxZoom: 20\n  },\n  'watercolor': {\n    minZoom: 1,\n    maxZoom: 16\n  }\n};\nexport default Stamen;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/Stamen.js\n// module id = 409\n// module chunks = 4","/**\n * @module ol/source/XYZ\n */\nimport {inherits} from '../index.js';\nimport TileImage from '../source/TileImage.js';\nimport _ol_tilegrid_ from '../tilegrid.js';\n\n/**\n * @classdesc\n * Layer source for tile data with URLs in a set XYZ format that are\n * defined in a URL template. By default, this follows the widely-used\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n * using the `{-y}` placeholder in the URL template, so long as the\n * source does not have a custom tile grid. In this case,\n * {@link ol.source.TileImage} can be used with a `tileUrlFunction`\n * such as:\n *\n *  tileUrlFunction: function(coordinate) {\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n *        coordinate[1] + '/' + coordinate[2] + '.png';\n *    }\n *\n *\n * @constructor\n * @extends {ol.source.TileImage}\n * @param {olx.source.XYZOptions=} opt_options XYZ options.\n * @api\n */\nconst XYZ = function(opt_options) {\n  const options = opt_options || {};\n  const projection = options.projection !== undefined ?\n    options.projection : 'EPSG:3857';\n\n  const tileGrid = options.tileGrid !== undefined ? options.tileGrid :\n    _ol_tilegrid_.createXYZ({\n      extent: _ol_tilegrid_.extentFromProjection(projection),\n      maxZoom: options.maxZoom,\n      minZoom: options.minZoom,\n      tileSize: options.tileSize\n    });\n\n  TileImage.call(this, {\n    attributions: options.attributions,\n    cacheSize: options.cacheSize,\n    crossOrigin: options.crossOrigin,\n    opaque: options.opaque,\n    projection: projection,\n    reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n    tileGrid: tileGrid,\n    tileLoadFunction: options.tileLoadFunction,\n    tilePixelRatio: options.tilePixelRatio,\n    tileUrlFunction: options.tileUrlFunction,\n    url: options.url,\n    urls: options.urls,\n    wrapX: options.wrapX !== undefined ? options.wrapX : true,\n    transition: options.transition\n  });\n\n};\n\ninherits(XYZ, TileImage);\nexport default XYZ;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/openlayers/src/ol/source/XYZ.js\n// module id = 5\n// module chunks = 0 1 2 3 4 5 6 8 9 10 11 12 13 14 17 18 19 20 21 22 23 24 25 26 27"],"sourceRoot":""}