{"version":3,"sources":["webpack:///./src/misc/WMSTime.js","webpack:///./src/misc/Time.js","webpack:///./src/misc/datepickerComponent.js","webpack:///./contribs/gmf/examples/datepicker.js"],"names":["__webpack_require__","olBase","exports","$filter","gettextCatalog","this","$filter_","gettextCatalog_","ngeoMiscTime","call","inherits","prototype","formatTimeValue","time","resolution","opt_useISOFormat","opt_toUTC","date","Date","utc","undefined","yearResolution","monthResolution","dayResolution","getString","toISOString","replace","formatWMSTimeParam","wmsTimeProperty","times","googAsserts","assert","mode","end","start","module","angular","name","service","ngeoBase","requires","push","_index","getOptions","minDate","minValue","maxDate","maxValue","minDefaultDate","minDefValue","maxDefaultDate","maxDefValue","defaultValues","getTime","values","getUTCDate","localDate","getUTCFullYear","getUTCMonth","value","element","attrs","templateUrl","baseModuleTemplateUrl","component_","ngeoDatePickerTemplateUrl","$timeout","scope","onDateSelected","bindToController","controller","restrict","link","ctrl","init","lang","getCurrentLanguage","$","sdateOptions","extend","onClose","selectedDate","find","datepicker","edateOptions","on","dp","css","e","stopPropagation","directive","Controller_","$scope","$injector","ngeoTime","_this","ngeoTime_","isModeRange","initialMinDate","initialMaxDate","changeMonth","changeYear","sdate","edate","$watchGroup","newDates","oldDates","sDate","eDate","isDate","initialOptions_","assertArray","assertNumber","gmfBase","ngeoMiscDatepickerComponent","ngeoMiscWMSTime","constant","MainController","ngeoWMSTime","ngeoWMSTime_","wmsTimeRangeMode","widget","interval","wmsTimeValueMode","rangeValue","onDateRangeSelected"],"mappings":"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","file":"datepicker.b85c8679b44f820ca462.js","sourcesContent":["/**\n * @module ngeo.misc.WMSTime\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscTime from 'ngeo/misc/Time.js';\nimport * as olBase from 'ol/index.js';\n\n/**\n * ngeo - WMS time service\n * @extends {ngeo.misc.Time}\n * @param {angular.$filter} $filter angular filter service.\n * @param {!angularGettext.Catalog} gettextCatalog service.\n * @constructor\n * @struct\n * @ngInject\n * @ngdoc service\n * @ngname ngeoWMSTime\n */\nconst exports = function($filter, gettextCatalog) {\n\n  /**\n   * @private\n   * @type {angular.$filter}\n   */\n  this.$filter_ = $filter;\n\n  /**\n   * @type {!angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n\n  ngeoMiscTime.call(this);\n};\n\nolBase.inherits(exports, ngeoMiscTime);\n\n\n/**\n * Format time regarding a resolution\n * @param  {number} time (in ms format) timestamp to format\n * @param  {(ngeox.TimePropertyResolutionEnum|undefined)} resolution resolution to use\n * @param  {boolean=} opt_useISOFormat True to a ISO-8601 date string that can be used\n *     as a WMS-T Parameter. Otherwise, use a localized date format.\n * @param  {boolean=} opt_toUTC to get the UTC date\n * @return {string} Date string regarding the resolution.\n */\nexports.prototype.formatTimeValue = function(time, resolution, opt_useISOFormat, opt_toUTC) {\n  const date = new Date(time);\n  const utc = opt_toUTC ? 'UTC' : undefined;\n\n  // ISO-8601 format to use date as a WMS-T Parameter.\n  let yearResolution = 'yyyy';\n  let monthResolution = 'yyyy-MM';\n  let dayResolution = 'yyyy-MM-dd';\n\n  // Localized format.\n  if (!opt_useISOFormat) {\n    const gettextCatalog = this.gettextCatalog_;\n    yearResolution = gettextCatalog.getString('yyyy');\n    monthResolution = gettextCatalog.getString('M/yyyy');\n    dayResolution = gettextCatalog.getString('M/d/yyyy');\n  }\n\n  switch (resolution) {\n    case 'year':\n      return this.$filter_('date')(date, yearResolution, utc);\n    case 'month':\n      return this.$filter_('date')(date, monthResolution, utc);\n    case 'day':\n      return this.$filter_('date')(date, dayResolution, utc);\n    default:\n      //case \"second\":\n      return date.toISOString().replace(/\\.\\d{3}/, '');\n  }\n};\n\n\n/**\n * Format time to be used as a WMS Time query parameter\n * @param  {ngeox.TimeProperty} wmsTimeProperty a wmstime property from a node\n * @param  {{start : number, end : (number|undefined)}} times start & end time selected (in ms format)\n * @param  {boolean=} opt_toUTC to get the UTC date\n * @return {string} ISO-8601 date string ready to be used as a query parameter for a\n * WMS request\n * @export\n */\nexports.prototype.formatWMSTimeParam = function(wmsTimeProperty, times, opt_toUTC) {\n  googAsserts.assert(wmsTimeProperty.resolution !== undefined);\n  if (wmsTimeProperty.mode === 'range') {\n    googAsserts.assert(times.end !== undefined);\n    return (\n      `${this.formatTimeValue(times.start, wmsTimeProperty.resolution, true, opt_toUTC)}/${\n        this.formatTimeValue(times.end, wmsTimeProperty.resolution, true, opt_toUTC)}`\n    );\n  } else {\n    return this.formatTimeValue(times.start, wmsTimeProperty.resolution, true, opt_toUTC);\n  }\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoWMSTime', [\n  ngeoMiscTime.module.name,\n]);\nexports.module.service('ngeoWMSTime', exports);\nngeoBase.module.requires.push(exports.module.name);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/WMSTime.js","/**\n * @module ngeo.misc.Time\n */\nimport ngeoBase from 'ngeo/index.js';\n\n/**\n * ngeo - Time service\n * @constructor\n * @struct\n * @ngInject\n * @ngdoc service\n * @ngname ngeoTime\n */\nconst exports = function() {};\n\n\n/**\n * Get options regarding the time property of a node;\n *\n * @param {ngeox.TimeProperty} time the time property of a node\n * @return {{\n *  minDate : number,\n *  maxDate : number,\n *  values : (Array<number>|number)\n * }} - Configuration for the UI components\n * @export\n */\nexports.prototype.getOptions = function(time) {\n\n  const minDate = new Date(time.minValue);\n  const maxDate = new Date(time.maxValue);\n\n  const minDefaultDate = (time.minDefValue) ?\n    new Date(time.minDefValue) : minDate;\n  const maxDefaultDate = (time.maxDefValue) ?\n    new Date(time.maxDefValue) : maxDate;\n\n  const defaultValues = (time.mode === 'range') ?\n    [minDefaultDate.getTime(), maxDefaultDate.getTime()] :\n    minDefaultDate.getTime();\n\n  return {\n    minDate: minDate.getTime(),\n    maxDate: maxDate.getTime(),\n    values: defaultValues\n  };\n};\n\n\n/**\n * Time.prototype.getUTCDate - Get UTC date from a local date object\n *\n * @param  {Object} localDate loacl date object in\n * @return {Object} UTC date\n * @export\n */\nexports.prototype.getUTCDate = function(localDate) {\n  return new Date(\n    localDate.getUTCFullYear(),\n    localDate.getUTCMonth(),\n    localDate.getUTCDate());\n};\n\n\n/**\n * @type {!angular.Module}\n */\nexports.module = angular.module('ngeoTime', []);\nexports.module.service('ngeoTime', exports);\nngeoBase.module.requires.push(exports.module.name);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/Time.js","/**\n * @module ngeo.misc.datepickerComponent\n */\nimport googAsserts from 'goog/asserts.js';\nimport ngeoBase from 'ngeo/index.js';\nimport ngeoMiscTime from 'ngeo/misc/Time.js';\n\nimport 'angular-ui-date';\n\n\n/**\n * @type {!angular.Module}\n */\nconst exports = angular.module('ngeoDatePicker', [\n  ngeoMiscTime.module.name,\n  'ui.date',\n]);\n\n\nexports.value('ngeoDatePickerTemplateUrl',\n  /**\n     * @param {angular.JQLite} element Element.\n     * @param {angular.Attributes} attrs Attributes.\n     * @return {string} Template URL.\n     */\n  (element, attrs) => {\n    const templateUrl = attrs['ngeoDatePickerTemplateUrl'];\n    return templateUrl !== undefined ? templateUrl :\n      `${ngeoBase.baseModuleTemplateUrl}/misc/datepickerComponent.html`;\n  });\n\n\n/**\n * Provide a directive to select a signle date or a range of dates. Requires\n * jQuery UI for the 'datepicker' widget.\n *\n * @param {string|function(!angular.JQLite=, !angular.Attributes=)}\n * ngeoDatePickerTemplateUrl Template for the directive.\n * @param  {angular.$timeout} $timeout angular timeout service\n * @return {angular.Directive} The directive specs.\n * @ngInject\n * @ngdoc directive\n * @ngname ngeoDatePicker\n */\nexports.component_ = function(ngeoDatePickerTemplateUrl,  $timeout) {\n  return {\n    scope: {\n      onDateSelected: '&',\n      time: '='\n    },\n    bindToController: true,\n    controller: 'ngeoDatePickerController as datepickerCtrl',\n    restrict: 'AE',\n    templateUrl: ngeoDatePickerTemplateUrl,\n    link: (scope, element, attrs, ctrl) => {\n      ctrl.init();\n\n      const lang =  ctrl.gettextCatalog_.getCurrentLanguage();\n      $['datepicker']['setDefaults']($['datepicker']['regional'][lang]);\n\n      ctrl.sdateOptions = angular.extend({}, ctrl.sdateOptions, {\n        'onClose': (selectedDate) => {\n          if (selectedDate) {\n            $(element[0]).find('input[name=\"edate\"]').datepicker('option', 'minDate', selectedDate);\n          }\n        }\n      });\n\n      ctrl.edateOptions = angular.extend({}, ctrl.edateOptions, {\n        'onClose': (selectedDate) => {\n          if (selectedDate) {\n            $(element[0]).find('input[name=\"sdate\"]').datepicker('option', 'maxDate', selectedDate);\n          }\n        }\n      });\n\n      angular.element('body').on('hidden.bs.popover', () => {\n        const dp = angular.element('#ui-datepicker-div');\n        if (dp && dp.css('display') === 'block') {\n          $(element[0]).find('input[name$=\"date\"]').datepicker('hide');\n        }\n      });\n\n      $timeout(() => {\n        angular.element('#ui-datepicker-div').on('mousedown', (e) => {\n          e.stopPropagation();\n        });\n      });\n    }\n  };\n};\n\nexports.directive('ngeoDatePicker', exports.component_);\n\n\n/**\n * DatePickerController - directive conttroller\n * @param {!angular.Scope} $scope Angular scope.\n * @param {!angular.$injector} $injector injector.\n * @param {!ngeo.misc.Time} ngeoTime time service.\n * @param {!angularGettext.Catalog} gettextCatalog service.\n * @constructor\n * @private\n * @struct\n * @ngInject\n * @ngdoc controller\n * @ngname ngeoDatePickerController\n */\nexports.Controller_ = function($scope, $injector,\n  ngeoTime, gettextCatalog) {\n\n  /**\n   * @type {!ngeo.misc.Time}\n   * @private\n   */\n  this.ngeoTime_ = ngeoTime;\n\n  /**\n   * @type {!ngeox.TimeProperty}\n   * @export\n   */\n  this.time;\n\n  /**\n   * The gettext catalog\n   * @type {!angularGettext.Catalog}\n   * @private\n   */\n  this.gettextCatalog_ = gettextCatalog;\n\n\n  /**\n   * If the component is used to select a date range\n   * @type {boolean}\n   * @export\n   */\n  this.isModeRange;\n\n\n  /**\n   * Function called after date(s) changed/selected\n   * @type {function({time: {start: number, end: number}})}\n   * @export\n   */\n  this.onDateSelected;\n\n\n  /**\n   * Initial min date for the datepicker\n   * @type {!Date}\n   */\n  this.initialMinDate;\n\n  /**\n   * Initial max date for the datepickeronDateSelected\n   * @type {!Date}\n   */\n  this.initialMaxDate;\n\n  /**\n   * Datepicker options for the second datepicker (only for range mode)\n   * @type {Object}\n   * @export\n   */\n  this.edateOptions = {\n    'minDate': this.initialMinDate,\n    'maxDate': this.initialMaxDate,\n    'changeMonth': true,\n    'changeYear': true\n  };\n\n  /**\n   * Datepicker options for the first datepicker\n   * @type {Object}\n   * @export\n   */\n  this.sdateOptions = {\n    'minDate': this.initialMinDate,\n    'maxDate': this.initialMaxDate,\n    'changeMonth': true,\n    'changeYear': true\n  };\n\n  /**\n   * Start date model for the first date picker\n   * @type {Date}\n   * @export\n   */\n  this.sdate;\n\n  /**\n   * End date model for the second datepicker (only for range mode)\n   * @type {Date}\n   * @export\n   */\n  this.edate;\n\n  $scope.$watchGroup(['datepickerCtrl.sdate', 'datepickerCtrl.edate'], (newDates, oldDates) => {\n    const sDate = newDates[0];\n    const eDate = newDates[1];\n\n    if (angular.isDate(sDate) && (!this.isModeRange || angular.isDate(eDate))) {\n      this.onDateSelected({\n        time: {\n          start: sDate.getTime(),\n          end: eDate ? eDate.getTime() : null\n        }\n      });\n    }\n  });\n};\n\n/**\n * Initialise the controller.\n */\nexports.Controller_.prototype.init = function() {\n  //fetch the initial options for the component\n  const initialOptions_ = this.ngeoTime_.getOptions(this.time);\n  this.initialMinDate = new Date(initialOptions_.minDate);\n  this.initialMaxDate = new Date(initialOptions_.maxDate);\n  this.isModeRange = this.time.mode === 'range';\n\n  if (this.isModeRange) {\n    googAsserts.assertArray(initialOptions_.values);\n    this.sdate = new Date(initialOptions_.values[0]);\n    this.edate = new Date(initialOptions_.values[1]);\n  } else {\n    googAsserts.assertNumber(initialOptions_.values);\n    this.sdate = new Date(initialOptions_.values);\n  }\n};\n\nexports.controller('ngeoDatePickerController',\n  exports.Controller_);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./src/misc/datepickerComponent.js","/**\n * @module gmfapp.datepicker\n */\nconst exports = {};\n\nimport './datepicker.css';\nimport './common_dependencies.js';\nimport gmfBase from 'gmf/index.js';\n\nimport ngeoMiscDatepickerComponent from 'ngeo/misc/datepickerComponent.js';\nimport ngeoMiscWMSTime from 'ngeo/misc/WMSTime.js';\n\n\n/** @type {!angular.Module} **/\nexports.module = angular.module('gmfapp', [\n  gmfBase.module.name,\n  ngeoMiscDatepickerComponent.name,\n  ngeoMiscWMSTime.module.name,\n]);\n\nexports.constant('angularLocaleScript', '../build/angular-locale_{{locale}}.js');\n\n\n/**\n * @constructor\n * @param {!angular.Scope} $scope Angular scope.\n * @param {!ngeo.misc.WMSTime} ngeoWMSTime wmstime service.\n * @ngInject\n */\nexports.MainController = function($scope, ngeoWMSTime) {\n\n  /**\n   * @type {ngeo.misc.WMSTime}\n   * @private\n   */\n  this.ngeoWMSTime_ = ngeoWMSTime;\n\n  /**\n   * @type {ngeox.TimeProperty}\n   * @export\n   */\n  this.wmsTimeRangeMode = {\n    widget: /** @type {ngeox.TimePropertyWidgetEnum} */ ('datepicker'),\n    maxValue: '2013-12-31T00:00:00Z',\n    minValue: '2006-01-01T00:00:00Z',\n    maxDefValue: null,\n    minDefValue: null,\n    resolution: /** @type {ngeox.TimePropertyResolutionEnum}*/ ('day'),\n    mode: /** @type {ngeox.TimePropertyModeEnum} */ ('range'),\n    interval: [0, 1, 0, 0]\n  };\n\n  /**\n   * @type {ngeox.TimeProperty}\n   * @export\n   */\n  this.wmsTimeValueMode = {\n    widget: /** @type {ngeox.TimePropertyWidgetEnum} */ ('datepicker'),\n    maxValue: '2015-12-31T00:00:00Z',\n    minValue: '2014-01-01T00:00:00Z',\n    maxDefValue: null,\n    minDefValue: null,\n    resolution: /** @type {ngeox.TimePropertyResolutionEnum}*/ ('month'),\n    mode: /** @type {ngeox.TimePropertyModeEnum} */ ('value'),\n    interval: [0, 1, 0, 0]\n  };\n\n  /**\n   * @type {string}\n   * @export\n   */\n  this.value;\n\n  /**\n   * @type {string}\n   * @export\n   */\n  this.rangeValue;\n\n  this.onDateSelected = function(date) {\n    this.value = this.ngeoWMSTime_.formatWMSTimeParam(this.wmsTimeValueMode, date);\n  };\n\n  this.onDateRangeSelected = function(date) {\n    this.rangeValue = this.ngeoWMSTime_.formatWMSTimeParam(this.wmsTimeRangeMode, date);\n  };\n\n};\n\n\nexports.module.controller('MainController', exports.MainController);\n\n\nexport default exports;\n\n\n\n// WEBPACK FOOTER //\n// ./contribs/gmf/examples/datepicker.js"],"sourceRoot":""}