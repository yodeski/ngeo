webpackJsonp([40],{418:function(e,t,n){n(9),e.exports=n(419)},419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(11);var a=i(n(420)),r=i(n(294)),o=i(n(17)),u=i(n(1)),l=i(n(18));function i(e){return e&&e.__esModule?e:{default:e}}var d={};d.module=angular.module("app",[u.default.module.name,l.default.name,r.default.name]),d.MainController=function(e,t,n){var a=this;this.timeout_=t,this.attributes=null,this.disabled=!1,this.feature=new o.default({name:"A feature",kind:"house"}),e.get("data/xsdattributes.xml").then(this.handleXSDAttributeGet_.bind(this)),this.log="",n.$watch(function(){return a.feature.get("name")},function(e,t){e!==t&&a.appendLog("name changed from '"+t+"' to '"+e+"'")}),n.$watch(function(){return a.feature.get("kind")},function(e,t){e!==t&&a.appendLog("kind changed from '"+t+"' to '"+e+"'")})},d.MainController.$inject=["$http","$timeout","$scope"],d.MainController.prototype.handleXSDAttributeGet_=function(e){var t=(new a.default).read(e.data);return this.attributes=t,t},d.MainController.prototype.updateName=function(){var e=this;this.timeout_(function(){e.feature.set("name","An alternate name")},0)},d.MainController.prototype.appendLog=function(e){this.log=e+"\n"+this.log},d.module.controller("MainController",d.MainController),t.default=d},420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(3)),r=(i(n(1)),i(n(267))),o=i(n(68)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=i(n(143));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(){l.default.call(this)};u.inherits(d,l.default),d.prototype.read=function(e){return l.default.prototype.read.call(this,e)},d.prototype.readFromDocument=function(e){a.default.assert(e.nodeType==Node.DOCUMENT_NODE,"doc.nodeType should be DOCUMENT");for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},d.prototype.readFromNode=function(e){a.default.assert(e.nodeType==Node.ELEMENT_NODE,"node.nodeType should be ELEMENT"),a.default.assert("schema"==e.localName,"localName should be schema");var t=e.getElementsByTagName("element");t.length||(t=e.getElementsByTagName("xsd:element"));for(var n=[],r=void 0,o=0,u=t.length;o<u;o++)(r=this.readFromElementNode_(t[o]))&&n.push(r);return n},d.prototype.readFromElementNode_=function(e){var t=e.getAttribute("name");a.default.assertString(t,"name should be defined in element node.");var n=e.getAttribute("alias"),u=e.getAttribute("nillable"),l={name:t,alias:n,required:!(!0===u||"true"===u)},i=e.getAttribute("type");if(i)r.default.setGeometryType(l,i)||this.setAttributeByXsdType_(l,i);else{var d=e.getElementsByTagName("enumeration");if(d.length||(d=e.getElementsByTagName("xsd:enumeration")),d.length){l.type=o.default.SELECT;for(var s=[],f=0,m=d.length;f<m;f++)s.push(d[f].getAttribute("value"));l.choices=s}else{var p=e.getElementsByTagName("restriction");if(p.length||(p=e.getElementsByTagName("xsd:restriction")),p.length&&p[0]){var g=p[0];this.setAttributeByXsdType_(l,g.getAttribute("base"));var h=e.getElementsByTagName("maxLength");h.length||(h=e.getElementsByTagName("xsd:maxLength")),h.length&&h[0]&&(l.maxLength=Number(h[0].getAttribute("value")))}}}return l.type?(a.default.assert(l.type),l):null},d.prototype.setAttributeByXsdType_=function(e,t){"xsd:boolean"===t?e.type=o.default.BOOLEAN:"xsd:date"===t?e.type=o.default.DATE:"xsd:dateTime"===t?e.type=o.default.DATETIME:"xsd:time"===t?e.type=o.default.TIME:"xsd:decimal"===t?(e.type=o.default.NUMBER,e.numType=d.NumberType.FLOAT):"xsd:integer"===t?(e.type=o.default.NUMBER,e.numType=d.NumberType.INTEGER):"xsd:string"===t&&(e.type=o.default.TEXT)},d.getGeometryAttribute=function(e){for(var t=null,n=0,a=e.length;n<a;n++)if(e[n].type===o.default.GEOMETRY){t=e[n];break}return t},d.NumberType={FLOAT:"float",INTEGER:"integer"},t.default=d}},[418]);
//# sourceMappingURL=attributes.7a093b7c107facbd3bd1.js.map